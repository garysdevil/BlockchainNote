# 链上数据分析

## 数据类型

- 跳过~

## 指标

1. TVL： 表示在一个协议或整个区块链生态系统中被锁定的加密资产的总价值，包括流动性、抵押贷款和收益聚合中的总资产价值。
2. 活跃地址数： 在一定时间段内至少执行过一次交易的钱包地址数量。
3. 交易数： 是在一定时间段内链上发生的所有交易的数量。
4. 交易量： 是在一定时间段内链上这些交易涉及资产价值的总额。
5. 交易费用

## 链上数据分析流程

1. 数据ETL
   1. 数据抽取 Extract
   2. 清洗转换 Transform
   3. 加载到数据仓库 Load
   4. 依据不同业务线及观测指标分析数据
   5. 输出量化结果

## 链上数据分析工具

1. 数据源
   1. 数据源提供对原始区块链数据的索引，它们通过节点和API访问不同的区块链网络，提取链上的交易、事件日志、合约信息等原始数据。
   2. 相关产品： The Graph、Alchemy、区块链浏览器API
2. 数据开发工具
   1. 面向开发者，将原始数据进行解析存储，使其可以使用SQL或GraphQL等语言进行查询，自由定制程度高，不提供分析结果。
   2. 相关产品： Dune、Footprint、GeniiData、Flipside
3. 数据应用
   1. 面向普通用户，一般会以数据可视化看板等提供预先分析好的结果。
   2. 相关应用： Nansen、Debank、Defilamma、区块链浏览器

- 目前主流的链上数据分析工具多处于从Web2向Web3过渡的阶段，未来面向DeFi的数据分析服务一定是根植于Web3原生数据特性的。特别是基于智能合约代码逻辑的数据洞察能力，将会成为链上数据分析平台最重要的护城河。

## 数据思维
- 优秀的分析是将 链上行为与链下动机结合起来，形成完整的故事。
### Web3数据生态系统架构
1. 基础设施数据
   1. 节点、矿工、验证者相关数据
2. 区块链层数据
   1. 核心账本数据（如 以太坊、BSC、ARB）
3. 协议层数据
   1. 智能合约交互数据（如 Uniswap、Compound、Opensea）
4. 应用层数据
   1. DApps、DeFi、NFT等平台的用户行为数据

### 4个层面的思维
1. 第一性原理：抛开表象和类比，回归到协议/项目的最基本功能和价值主张。
   1. 这个协议解决了什么根本性问题？
   2. 它的核心机制是什么？
   3. 如果没有它，用户会用什么替代方案？
2. 经济学与博弈论思维：将协议看作一个微观经济体，分析其内在的激励机制和参与者的博弈行为。
   1. Tokenomics 分析
   2. 寻找聪明钱
   3. 女巫攻击识别
3. 产品与用户增长思维模型：像产品经理一样思考，关注用户全生命周期和产品健康度。
   1. 用户画像：巨鲸、DeFi农民、NFT收藏家
   2. AARRR增长漏斗：获取-->激活-->留存-->收益-->推荐
   3. 功能表现评估：新功能的使用率和TVL贡献
   4. 抽象能力训练：将模糊概念转化为量化指标
4. 安全与风险嗅探思维： 永远保持怀疑，像“侦探”一样寻找数据中的异常信号。
   1. 异常交易
   2. 关联地址
   3. 权限变更